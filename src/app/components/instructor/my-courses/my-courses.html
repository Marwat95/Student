<div class="instructor-my-courses">
  <div class="content-wrapper">
    <div class="header">
      <div class="header-content">
        <h1>
          My Courses
          <span>Manage your content and track performance</span>
        </h1>
      </div>
      <button class="btn-create" (click)="navigateToCreateCourse()">Create New Course</button>
    </div>

    <!-- Stats Grid -->
    <div class="stats-grid">
      <div class="stat-card">
        <span class="label">Total Courses</span>
        <span class="value">{{ totalCount() }}</span>
      </div>
      <div class="stat-card">
        <span class="label">Total Students</span>
        <span class="value">{{ totalStudents() }}</span>
      </div>
      <div class="stat-card">
        <span class="label">Active Courses</span>
        <span class="value">{{ activeCourses() }}</span>
      </div>
      <div class="stat-card">
        <span class="label">Total Earnings</span>
        <span class="value">{{ formatCurrency(totalEarnings()) }}</span>
      </div>
    </div>

    <div *ngIf="loading()" class="loading">
      <div class="spinner"></div>
      <p>Loading your courses...</p>
    </div>

    <div *ngIf="error()" class="error">
      <p>{{ error() }}</p>
    </div>

    <div *ngIf="!loading() && !error() && courses().length === 0" class="empty-state">
      <div class="empty-icon">ğŸ“</div>
      <h3>Start Your Teaching Journey</h3>
      <p>You haven't created any courses yet. Share your knowledge with the world!</p>
      <button class="btn-create" (click)="navigateToCreateCourse()">Create Your First Course</button>
    </div>

    <div *ngIf="!loading() && !error() && courses().length > 0" class="courses-grid">
      <div *ngFor="let course of courses(); let i = index" class="course-card" [style.animation-delay]="i * 0.1 + 's'">
        <div class="course-image">
          <img [src]="course.thumbnailUrl || 'assets/images/course-placeholder.jpg'" [alt]="course.title">
          <button 
            *ngIf="course.isPublished"
            class="status-badge btn-status published"
            (click)="togglePublishStatus(course, $event)"
            title="Click to unpublish"
          >
            Published
          </button>
        </div>

        <div class="course-content">
          <h3>{{ course.title }}</h3>
          <p class="course-price">{{ formatCurrency(course.price) }}</p>

          <div class="course-stats">
            <div title="Students">
              ğŸ‘¥ {{ course.enrollmentCount || 0 }}
            </div>
            <div title="Lessons">
              ğŸ“– {{ course.lessonsCount || 0 }}
            </div>
            <div title="Rating">
              â­ {{ course.averageRating | number:'1.1-1' }}
            </div>
          </div>
        </div>

        <div class="course-actions">
          <button class="btn-view" (click)="navigateToCourse(course.courseId)">
            ğŸ‘ï¸ View
          </button>
          <button class="btn-edit" (click)="navigateToEditCourse(course.courseId)">
            âœï¸ Edit
          </button>
        </div>
      </div>
    </div>

    <!-- Pagination -->
    <div *ngIf="totalPages() > 1" class="pagination">
      <button (click)="goToPage(pageNumber() - 1)" [disabled]="pageNumber() === 1">
        â† Previous
      </button>
      <span>Page {{ pageNumber() }} of {{ totalPages() }}</span>
      <button (click)="goToPage(pageNumber() + 1)" [disabled]="pageNumber() === totalPages()">
        Next â†’
      </button>
    </div>
  </div>
</div>