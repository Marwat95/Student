<div class="edit-course-page">
  <header class="page-header">
    <div class="header-content">
      <div>
        <h1>Edit Course</h1>
        <p>Update course information</p>
      </div>
      <button type="button" (click)="navigateToAddLesson()" class="btn-primary">
        Add Lesson
      </button>
    </div>
  </header>

  <!-- Loading State -->
  <div *ngIf="loading()" class="loading-state">
    <p>Loading course details...</p>
  </div>

  <!-- Form -->
  <form *ngIf="!loading()" (ngSubmit)="onSubmit()" class="course-form">
    <!-- Error Message -->
    <div *ngIf="error()" class="error-message">
      {{ error() }}
    </div>

    <!-- Title -->
    <div class="form-group">
      <label for="title">Course Title *</label>
      <input type="text" id="title" [(ngModel)]="courseData.title" name="title" required
        placeholder="Enter course title" class="form-input" />
    </div>

    <!-- Description -->
    <div class="form-group">
      <label for="description">Course Description *</label>
      <textarea id="description" [(ngModel)]="courseData.description" name="description" required rows="6"
        placeholder="Enter course description" class="form-textarea"></textarea>
    </div>

    <!-- Price -->
    <div class="form-group">
      <label for="price">Price (USD) *</label>
      <input type="number" id="price" [(ngModel)]="courseData.price" name="price" required min="0" step="0.01"
        placeholder="0.00" class="form-input" />
    </div>

    <!-- Thumbnail URL -->
    <div class="form-group">
      <label for="thumbnailUrl">Thumbnail URL (Optional)</label>
      <input type="url" id="thumbnailUrl" [(ngModel)]="courseData.thumbnailUrl" name="thumbnailUrl"
        placeholder="https://example.com/image.jpg" class="form-input" />
    </div>

    <!-- Visibility -->
    <div class="form-group">
      <label for="visibility">Visibility</label>
      <select id="visibility" [(ngModel)]="courseData.visibility" name="visibility" class="form-select">
        <option *ngFor="let opt of visibilityOptions" [value]="opt.value">
          {{ opt.label }}
        </option>
      </select>
    </div>

    <!-- Popular -->
    <div class="form-group">
      <label class="checkbox-label">
        <input type="checkbox" [(ngModel)]="courseData.popular" name="popular" />
        <span>Mark as Popular Course</span>
      </label>
    </div>

    <!-- Form Actions -->
    <div class="form-actions">
      <button type="button" (click)="cancel()" class="btn-secondary">
        Cancel
      </button>
      <button type="submit" [disabled]="submitting()" class="btn-primary">
        {{ submitting() ? 'Updating...' : 'Update Course' }}
      </button>
    </div>
  </form>
</div>